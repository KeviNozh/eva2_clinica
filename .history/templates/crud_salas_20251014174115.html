<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gesti√≥n de Salas - Salud Vital</title>
  <style>
  :root{
    --bg:#0f172a; --white:#ffffff; --muted:#9aa4b2;
    --c1-start:#7c3aed; --c1-end:#06b6d4;
    --c2-start:#ff7a59; --c2-end:#ffb86b;
    --c3-start:#34d399; --c3-end:#60a5fa;
    --c4-start:#f472b6; --c4-end:#7c3aed;
    --radius:14px; --shadow-lg: 0 18px 60px rgba(2,6,23,0.5);
    --max-width:1200px;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    color-scheme: dark;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:
    radial-gradient(600px 300px at 10% 10%, rgba(124,58,237,0.12), transparent 10%),
    radial-gradient(500px 240px at 90% 70%, rgba(6,182,212,0.08), transparent 8%),
    var(--bg);
    -webkit-font-smoothing:antialiased;color:var(--white);
  }
  a{color:inherit;text-decoration:none}
  .wrap{max-width:var(--max-width);margin:30px auto;padding:20px}

  /* Header */
  header.site{
    display:flex;align-items:center;gap:16px;padding:18px;border-radius:12px;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.04);
    box-shadow: 0 8px 30px rgba(2,6,23,0.45); margin-bottom: 20px;
  }
  .brand{display:flex;gap:12px;align-items:center}
  .logo{
    width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--c1-start),var(--c1-end));
    display:grid;place-items:center;font-weight:900;font-size:16px;color:var(--white);
  }
  .brand .title{font-weight:800;font-size:16px}
  .brand .subtitle{font-size:12px;color:var(--muted);margin-top:2px}

  nav.main{margin-left:auto;display:flex;gap:10px;align-items:center}
  .nav-link{padding:8px 12px;border-radius:10px;color:var(--white);opacity:0.9;font-weight:700; font-size:14px}
  .nav-link.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);opacity:0.8}
  .nav-link.cta{background:linear-gradient(90deg,var(--c2-start),var(--c2-end))}

  /* Main Content */
  .main-content{display:grid;gap:20px;margin-top:20px}
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-lg);
    border: 1px solid rgba(255,255,255,0.04);
  }

  /* Table */
  .table{width:100%;border-collapse:collapse;margin-top:15px}
  .table th,.table td{padding:12px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.1)}
  .table th{color:var(--muted);font-weight:600; font-size:14px}
  .table td{font-size:14px}

  /* Buttons */
  .btn{
    padding:10px 16px;border-radius:10px;border:0;font-weight:700;cursor:pointer;
    color:var(--white);font-size:14px; display:inline-flex; align-items:center; gap:6px;
  }
  .btn-primary{background:linear-gradient(90deg,var(--c1-start),var(--c1-end))}
  .btn-success{background:linear-gradient(90deg,var(--c3-start),var(--c3-end))}
  .btn-warning{background:linear-gradient(90deg,var(--c2-start),var(--c2-end))}
  .btn-danger{background:linear-gradient(90deg,#ef4444,#f97316)}
  .btn-small{padding:6px 12px;font-size:12px}

  .action-buttons{display:flex;gap:8px}
  .status-available{color:#34d399; font-weight:600}
  .status-unavailable{color:#ef4444; font-weight:600}

  /* Messages */
  .alert-success{
    padding:12px 16px; border-radius:8px; background:rgba(34,197,94,0.1); 
    border:1px solid rgba(34,197,94,0.3); color:#34d399; margin-bottom:16px;
  }
  .alert-error{
    padding:12px 16px; border-radius:8px; background:rgba(239,68,68,0.1); 
    border:1px solid rgba(239,68,68,0.3); color:#ef4444; margin-bottom:16px;
  }

  /* Empty State */
  .empty-state{
    text-align:center; padding:40px; color:var(--muted);
  }
  .empty-state h3{color:var(--white); margin-bottom:8px;}

  /* Responsive */
  @media (max-width:768px){
    .table{display:block;overflow-x:auto}
    .action-buttons{flex-direction:column}
    header.site{flex-direction:column; gap:12px}
    nav.main{margin-left:0; flex-wrap:wrap; justify-content:center}
  }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
    <header class="site">
      <div class="brand">
        <div class="logo">üè¢</div>
        <div>
          <div class="title">Gesti√≥n de Salas</div>
          <div class="subtitle">Administrar salas de atenci√≥n m√©dica</div>
        </div>
      </div>

      <nav class="main">
        <a class="nav-link" href="/">Inicio</a>
        <a class="nav-link" href="/api/docs/">API Docs</a>
        <a class="nav-link cta" href="{% url 'crud:crear_sala' %}">+ Nueva Sala</a>
      </nav>
    </header>

    <!-- Main Content -->
    <div class="main-content">
      <div class="card">
        <h2 style="margin:0 0 20px 0; font-size:24px">üè¢ Salas de Atenci√≥n</h2>
        
        {% if messages %}
        <div style="margin-bottom:20px">
          {% for message in messages %}
          <div class="alert-{% if message.tags == 'success' %}success{% else %}error{% endif %}">
            {{ message }}
          </div>
          {% endfor %}
        </div>
        {% endif %}

        {% if salas %}
        <div style="overflow-x:auto;">
          <table class="table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>N√∫mero</th>
                <th>Piso</th>
                <th>Capacidad</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              {% for sala in salas %}
              <tr>
                <td><strong>{{ sala.nombre }}</strong></td>
                <td>{{ sala.numero }}</td>
                <td>{{ sala.piso }}</td>
                <td>{{ sala.capacidad }} personas</td>
                <td>
                  <div class="action-buttons">
                    <a href="{% url 'crud:editar_sala' sala.id %}" class="btn btn-warning btn-small">‚úèÔ∏è Editar</a>
                    <a href="{% url 'crud:eliminar_sala' sala.id %}" class="btn btn-danger btn-small" 
                       onclick="return confirm('¬øEst√°s seguro de eliminar {{ sala.nombre }}?')">üóëÔ∏è Eliminar</a>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        {% else %}
        <div class="empty-state">
          <h3>No hay salas registradas</h3>
          <p>Comienza creando la primera sala del sistema</p>
          <a href="{% url 'crud:crear_sala' %}" class="btn btn-primary" style="margin-top:15px">
            + Crear Primera Sala
          </a>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</body>
</html>