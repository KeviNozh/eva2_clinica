<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Editar Sala - Salud Vital</title>
  <style>
  :root{
    --bg:#0f172a; --white:#ffffff; --muted:#9aa4b2;
    --c1-start:#7c3aed; --c1-end:#06b6d4;
    --c2-start:#ff7a59; --c2-end:#ffb86b;
    --c3-start:#34d399; --c3-end:#60a5fa;
    --radius:14px; --shadow-lg: 0 18px 60px rgba(2,6,23,0.5);
    --max-width:800px;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
    color-scheme: dark;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:
    radial-gradient(600px 300px at 10% 10%, rgba(124,58,237,0.12), transparent 10%),
    radial-gradient(500px 240px at 90% 70%, rgba(6,182,212,0.08), transparent 8%),
    var(--bg);
    -webkit-font-smoothing:antialiased;color:var(--white);
  }
  a{color:inherit;text-decoration:none}
  .wrap{max-width:var(--max-width);margin:30px auto;padding:20px}

  /* Header */
  header.site{
    display:flex;align-items:center;gap:16px;padding:18px;border-radius:12px;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.04);
    box-shadow: 0 8px 30px rgba(2,6,23,0.45); margin-bottom: 20px;
  }
  .brand{display:flex;gap:12px;align-items:center}
  .logo{
    width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--c2-start),var(--c2-end));
    display:grid;place-items:center;font-weight:900;font-size:16px;color:var(--white);
  }
  .brand .title{font-weight:800;font-size:16px}
  .brand .subtitle{font-size:12px;color:var(--muted);margin-top:2px}

  /* Form Card */
  .form-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border-radius:var(--radius);padding:30px;box-shadow:var(--shadow-lg);
    border: 1px solid rgba(255,255,255,0.04);
  }

  /* Form Styles */
  .form-group{margin-bottom:20px}
  .form-label{
    display:block; margin-bottom:8px; font-weight:600; color:var(--white);
  }
  .form-input, .form-select, .form-textarea{
    width:100%; padding:12px; border-radius:8px; border:1px solid rgba(255,255,255,0.1);
    background:rgba(255,255,255,0.05); color:var(--white); font-size:14px;
  }
  .form-input:focus, .form-select:focus, .form-textarea:focus{
    outline:none; border-color:var(--c2-start); background:rgba(255,255,255,0.08);
  }
  .form-textarea{resize:vertical; min-height:80px; font-family:inherit;}

  .checkbox-group{
    display:flex; align-items:center; gap:10px; margin-top:10px;
  }
  .checkbox-group input{width:18px; height:18px;}

  /* Buttons */
  .btn{
    padding:12px 24px;border-radius:10px;border:0;font-weight:700;cursor:pointer;
    color:var(--white);font-size:14px; display:inline-flex; align-items:center; gap:8px;
    transition:all 0.2s ease;
  }
  .btn:hover{transform:translateY(-1px);}
  .btn-warning{background:linear-gradient(90deg,var(--c2-start),var(--c2-end))}
  .btn-secondary{background:linear-gradient(90deg,var(--c1-start),var(--c1-end))}
  .btn-danger{background:linear-gradient(90deg,#ef4444,#f97316)}

  .form-actions{display:flex;gap:12px;margin-top:30px; flex-wrap:wrap;}

  /* Messages */
  .alert-error{
    padding:12px 16px; border-radius:8px; background:rgba(239,68,68,0.1); 
    border:1px solid rgba(239,68,68,0.3); color:#ef4444; margin-bottom:20px;
  }

  @media (max-width:768px){
    .form-actions{flex-direction:column;}
    .wrap{padding:15px;}
    .form-card{padding:20px;}
  }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
    <header class="site">
      <div class="brand">
        <div class="logo">‚úèÔ∏è</div>
        <div>
          <div class="title">Editar Sala</div>
          <div class="subtitle">Modificar informaci√≥n de la sala</div>
        </div>
      </div>
      <a href="{% url 'crud_salas' %}" class="btn btn-secondary">‚Üê Volver</a>
    </header>

    <!-- Form -->
    <div class="form-card">
      <h2 style="margin:0 0 25px 0; font-size:24px">Editando: {{ sala.nombre }}</h2>
      
      {% if messages %}
        {% for message in messages %}
          <div class="alert-error">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}

      <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
          <label class="form-label">Nombre de la Sala *</label>
          <input type="text" class="form-input" name="nombre" value="{{ sala.nombre }}" required>
        </div>

        <div class="form-group">
          <label class="form-label">Capacidad *</label>
          <input type="number" class="form-input" name="capacidad" value="{{ sala.capacidad }}" required min="1" max="50">
        </div>

        <div class="form-group">
          <label class="form-label">Tipo de Sala *</label>
          <select class="form-select" name="tipo" required>
            <option value="consulta" {% if sala.tipo == 'consulta' %}selected{% endif %}>Consulta</option>
            <option value="procedimiento" {% if sala.tipo == 'procedimiento' %}selected{% endif %}>Procedimiento</option>
            <option value="urgencia" {% if sala.tipo == 'urgencia' %}selected{% endif %}>Urgencia</option>
            <option value="hospitalizacion" {% if sala.tipo == 'hospitalizacion' %}selected{% endif %}>Hospitalizaci√≥n</option>
            <option value="operaciones" {% if sala.tipo == 'operaciones' %}selected{% endif %}>Sala de Operaciones</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Descripci√≥n</label>
          <textarea class="form-textarea" name="descripcion">{{ sala.descripcion|default:"" }}</textarea>
        </div>

        <div class="form-group">
          <div class="checkbox-group">
            <input type="checkbox" id="disponible" name="disponible" {% if sala.disponible %}checked{% endif %}>
            <label for="disponible" class="form-label">Sala disponible</label>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-warning">
            üíæ Guardar Cambios
          </button>
          <a href="{% url 'crud_salas' %}" class="btn btn-secondary">
            ‚ùå Cancelar
          </a>
          <a href="{% url 'eliminar_sala' sala.id %}" class="btn btn-danger"
             onclick="return confirm('¬øEst√°s seguro de eliminar {{ sala.nombre }}?')">
            üóëÔ∏è Eliminar
          </a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>